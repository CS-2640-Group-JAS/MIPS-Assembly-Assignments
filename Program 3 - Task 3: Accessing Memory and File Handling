# Anastasia Davis, Srivalli Kakumani, and Jessica Pinto
# CS2640.01
# December 12, 2023

.data
filename_prompt: .asciiz "Enter the file name: "
content_prompt:  .asciiz "Enter the content to append: "
buffer:         .space 128    # Buffer for user input
filename:       .space 64     # File name storage

.text
main:
    li $v0, 4                   # Print string
    la $a0, filename_prompt     # Load address of filename prompt
    syscall

    li $v0, 8                   # Read string
    la $a0, filename            # Load address of filename buffer
    li $a1, 64                  # Maximum number of characters to read
    syscall

    li $v0, 13                  # Open file for writing (append mode)
    la $a0, filename            # Load address of filename
    li $a1, 1                   # Append mode (1 for append, 0 for overwrite)
    li $a2, 0                   # File permission (ignored in some environments)
    syscall
    move $s0, $v0               # Store file descriptor

    li $v0, 4                   # Print string
    la $a0, content_prompt      # Load address of content prompt
    syscall

    li $v0, 8                   # Read string
    la $a0, buffer              # Load address of buffer
    li $a1, 128                 # Maximum number of characters to read
    syscall

    move $a0, $s0               # File descriptor
    li $v0, 15                  # Write to file
    la $a1, buffer              # Buffer to write
    syscall

    li $v0, 16                  # Close file
    move $a0, $s0               # File descriptor
    syscall

    li $v0, 10                  # Exit program
    syscall
